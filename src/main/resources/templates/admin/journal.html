<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<title>Журнал действий</title>
<link rel="stylesheet" href="/assets/manager.css">
<script src="/assets/navbar.js"></script>
<script src="/public_resources/sweetalert2.js"></script>
<link rel="icon" href="/icon.png">
<style>
:root {
    --bg-system: #f8f9fa; --txt-system: #475569;
    --bg-auth: #eff6ff;   --txt-auth: #1d4ed8;
    --bg-mark: #f0fdf4;   --txt-mark: #166534;
    --bg-error: #fef2f2;  --txt-error: #dc2626;
    --bg-tg: #f0f9ff;     --txt-tg: #0284c7;
    --bg-admin: #faf5ff;  --txt-admin: #7c3aed;
    --bg-create: #ecfdf5; --txt-create: #059669;
    --bg-edit: #fffbeb;   --txt-edit: #d97706;
    --bg-remove: #fff1f2; --txt-remove: #e11d48;
    --bg-coll: #f1f5f9;   --txt-coll: #334155;
}

.userTable {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 4px;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

.userTable tr td {
    padding: 12px 16px;
    font-size: 14px;
    transition: all 0.2s ease;
    border-top: 1px solid transparent;
    border-bottom: 1px solid transparent;
}

.userTable tbody tr:hover td {
    filter: brightness(0.98);
    cursor: default;
}

.userTable tr td:first-child { border-left: 1px solid transparent; border-radius: 8px 0 0 8px; }
.userTable tr td:last-child { border-right: 1px solid transparent; border-radius: 0 8px 8px 0; }

.log-badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.4px;
    background: rgba(255, 255, 255, 0.5);
}

.log-row-system { background: var(--bg-system); color: var(--txt-system); }
.log-row-auth { background: var(--bg-auth); color: var(--txt-auth); }
.log-row-mark { background: var(--bg-mark); color: var(--txt-mark); }
.log-row-mark-exception { background: var(--bg-error); color: var(--txt-error); box-shadow: inset 4px 0 0 0 var(--txt-error); }
.log-row-telegram { background: var(--bg-tg); color: var(--txt-tg); }
.log-row-admin { background: var(--bg-admin); color: var(--txt-admin); }
.log-row-create { background: var(--bg-create); color: var(--txt-create); }
.log-row-edit { background: var(--bg-edit); color: var(--txt-edit); }
.log-row-remove { background: var(--bg-remove); color: var(--txt-remove); }
.log-row-collector { background: var(--bg-coll); color: var(--txt-coll); }

.filter-input {
	width: 60%;
	padding: 6px 10px;
	border: 1px solid #e5e7eb;
	border-radius: 6px;
	font-size: 13px;
	outline: none;
	transition: border-color 0.2s;
	margin-right: 0px;
}

.filter-input:focus {
	border-color: #3b82f6;
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}
</style>
</head>

<body>
	<!--CSRF Attack Protection-->
	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
	<table id="userTable">
		<thead>
			<tr>
				<th>Время<br> <input type="text" class="filter-input" data-col="0" placeholder="Поиск..."></th>
				<th>Тип<br> <input type="text" class="filter-input" data-col="1" placeholder="Поиск..."></th>
				<th>Сообщение<br> <input type="text" class="filter-input" data-col="2" placeholder="Поиск..."></th>
				<th>Пользователь<br> <input type="text" class="filter-input" data-col="3" placeholder="Поиск..."></th>
				<th>Роль<br> <input type="text" class="filter-input" data-col="4" placeholder="Поиск..."></th>
				<th>ID</th>
			</tr>
		</thead>
		<tbody id="tbody">
			<tr th:each="val : ${records}" th:name="${val.id}">
				<td th:text="${val.time}"></td>
				<td th:text="${val.type.getName()}"></td>
				<td th:text="${val.message}"></td>
				<td th:text="${val.login}"></td>
				<td th:text="${val.role}"></td>
				<td th:text="${val.id}"></td>
			</tr>
		</tbody>
	</table>
	<div class="bottomPanel" id="bp1">
		<button class="btn" style="background-color: red" onclick="window.history.back()">Вернуться на главную
			страницу</button>
	</div>
</body>
<script src="/assets/manager.js"></script>
<script src="/onepage_scripts/journal.js"></script>
</html>